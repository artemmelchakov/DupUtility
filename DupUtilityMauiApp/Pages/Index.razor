@page "/"
@using CommunityToolkit.Maui.Storage;

<h1>Hello, world!</h1>

<p>It's my little program to find file duplicates on the device.</p>

<button class="btn btn-primary" @onclick="ChooseFolder">Choose folder</button>

<p>Choosen folder: @folder</p>

@code {
    private string folder = Environment.CurrentDirectory;

    /// <summary>
    /// Chooses a folder from the file system.
    /// </summary>
    private async Task ChooseFolder()
    {
        var folderPickerResult = await FolderPicker.PickAsync(folder, CancellationToken.None);
        if (folderPickerResult.IsSuccessful)
        {
            folder = folderPickerResult.Folder.Path;            
        }
    }
}
